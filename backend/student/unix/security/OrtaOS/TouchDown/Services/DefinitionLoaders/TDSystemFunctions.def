#!/bin/bash
function fopen() {
	if [[ -f "$1" ]]; then
		echo "0"
	else
		echo "-9"
	fi
}

function fread() {
	if [[ -f "$1" ]]; then
		echo "$(<$1)"
	else
		echo "-9"
	fi
}

function fwrite() {
	if [[ ! -f "$1" ]]; then
		echo "$2" > "$1"
		if [[ "$(<$1)" == "$2" ]]; then
			echo "0"
		else
			echo "-9"
		fi
	else
		echo "-9"
	fi
}

function foverwrite() {
	if [[ -f "$1" ]]; then
		echo "$2" > "$1"
		if [[ "$(<$1)" == "$2" ]]; then
			echo "0"
		else
			echo "-9"
		fi
	else
		echo "-9"
	fi
}

function fappend() {
	if [[ -f "$1" ]]; then
		echo "$2" >> "$1"
		if [[ -z "$(echo $(<$1) | grep $2)" ]]; then
			echo "-9"
		else
			echo "0"
		fi
	else
		echo "-9"
	fi
}

function fdelete() {
	if [[ -f "$1" ]]; then
		rm -rf "$1"
		if [[ -f "$1" ]]; then
			echo "-9"
		else
			echo "0"
		fi
	else
		echo "-9"
	fi
}


export -f fopen
export -f fread
export -f fwrite
export -f foverwrite
export -f fappend
export -f fdelete
